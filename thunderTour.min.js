var Tour=function(){var e="undefined"!=typeof jQuery,t=function(e){return e[0]},n=function(e){return e.slice(1)},s=function(o,l){document.getElementsByClassName("popup")[0]&&document.getElementsByClassName("div")[0]&&(document.getElementsByClassName("popup")[0].remove(),document.getElementsByClassName("div")[0].remove()),document.getElementsByClassName("thunderAudio")[0]&&document.getElementsByClassName("thunderAudio")[0].remove(),l=l||0;var m=arguments[0].steps.length;l===arguments[0].steps.length&&(l=0);var a;a=a=arguments[0].steps[l].marginOffset?arguments[0].steps[l].marginOffset:30;var d=arguments[0].steps[l].selector,i=arguments[0].steps[l].content,r=arguments[0].steps[l].side,u=function(e){return u="#"===t(e)?document.getElementById(n(e)):"."===t(e)?document.getElementsByClassName(n(e))[0]:document.querySelectorAll(n(e))[0]};u(d);var c=u.getBoundingClientRect(),p=c.bottom+window.scrollY,g=c.top+window.scrollY,y=c.left+window.scrollX,v=c.right+window.scrollX,N=p-g,f=document.createElement("div");f.style.position="absolute",f.className="div",f.style.top=g+"px";for(var w='<div class="triangle'+r+'"></div>',C="",E=0;E<arguments[0].steps.length;E++)C+='<div data-index="'+E+'" class="krug"></div>';var x='<div class="clear"></div><button class="next">Next</button><div>'+C+"</div>";f.innerHTML='<div class="popup">'+i+w+x+"</div>";var B=document.getElementsByTagName("body")[0];B.appendChild(f),l===m-1&&(document.getElementsByClassName("next")[0].innerHTML="Got it!"),document.getElementsByClassName("krug")[m-1-l].style.background="#00334D";var h='<polygon fill-rule="evenodd" clip-rule="evenodd" fill="#FCCF0F" points="17.191,0 1.438,15.457 6.365,15.466 0,29.535 17.166,12.907 11.773,12.661 "></polygon>',b=document.createElement("div");b.className="svgt";var T='<svg version="1.1" class="" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="17.191px" height="29.535px" viewBox="0 0 17.191 29.535" enable-background="new 0 0 17.191 29.535" xml:space="preserve" >'+h+"</svg>";b.innerHTML=""+T,[].forEach.call(b.childNodes[0].childNodes,function(e){document.querySelector(".popup").appendChild(b)});var k=document.createElement("audio");k.className="thunderAudio",document.getElementsByTagName("body")[0].appendChild(k),k.src="https://dl.dropboxusercontent.com/content_link/g9PwefeIeE8VRDj8NVEuXvCV3YHd2jmRkxaG9NisCUjPbLCdH7TkbHvAPXx3s10J/file",k.volume=.2,k.play(),document.querySelector(".svgt svg").style.animationName="lightning",document.querySelector(".svgt svg").addEventListener("animationend",function(){document.querySelector(".svgt svg").style.animationName="thunder"});var H=v-y,j=document.getElementsByClassName("popup")[0].getBoundingClientRect(),L=j.right+window.scrollX,q=j.left+window.scrollX,R=j.top+window.scrollY,S=j.bottom+window.scrollY,X=S-R,Y=L-q;"right"===r&&(f.style.left=v+a+"px",f.style.top=g-(S-R)/2+N/2+"px",document.getElementsByClassName("popup")[0].style.animationName="fadeInRight",document.getElementsByClassName("triangleright")[0].style.top=(S-R)/2-12+"px"),"left"===r&&(f.style.left=y-Y-a+"px",f.style.top=g-(S-R)/2+N/2+"px",document.getElementsByClassName("triangleleft")[0].style.top=(S-R)/2-8+"px"),"bottom"===r&&(f.style.top=p+a+"px",f.style.left=v-H/2-(L-q)/2+"px",document.getElementsByClassName("popup")[0].style.animationName="fadeInBottom",document.getElementsByClassName("trianglebottom")[0].style.left=(L-q)/2-12+"px"),"top"===r&&(document.getElementsByClassName("triangletop")[0].style.left=(L-q)/2-12+"px",f.style.top=g-X-a+"px",f.style.left=v-H/2-(L-q)/2+"px",document.getElementsByClassName("popup")[0].style.animationName="fadeInTop");{var A=document.getElementsByClassName("krug");A.length}document.getElementsByClassName("next")[0].addEventListener("click",function(){if(o.steps[l+1]){var t=o.steps[l+1].selector;u=document.querySelector(t)}var n=u.getBoundingClientRect();g=n.top+window.scrollY;n.top;if(l++,!(m>l))return e?(jQuery("body, html").animate({scrollTop:0},400),document.getElementsByClassName("popup")[0].remove(),void document.getElementsByClassName("div")[0].remove()):(window.scrollTo(0,0),document.getElementsByClassName("popup")[0].remove(),void document.getElementsByClassName("div")[0].remove());if(g>window.innerHeight){if(e)return document.getElementsByClassName("popup")[0].style.animationDelay=700,void jQuery("body, html").animate({scrollTop:g-window.innerHeight/2},400,function(){s(o,l)});e?jQuery("body, html").animate({scrollTop:0},400):window.scrollTo(0,0)}else window.scrollTo(0,0);document.getElementsByClassName("popup")[0].remove(),document.getElementsByClassName("div")[0].remove(),s(o,l)},!1)};return s}();"undefined"!=typeof module&&module.exports&&(module.exports=Tour);
